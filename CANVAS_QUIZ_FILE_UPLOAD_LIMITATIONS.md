# Canvas API - Quiz & File Upload Capabilities

## üéØ Quiz Access Limitations for Students

Based on Canvas API documentation and the community forum:

### ‚úÖ What Students CAN Do:
1. **Access Quiz Questions During Active Attempt**
   - Endpoint: `GET /api/v1/quiz_submissions/:quiz_submission_id/questions`
   - Can retrieve questions for their CURRENT active submission
   - Only accessible during the quiz window
   - Respects time limits and availability settings

2. **Check Quiz Timing**
   - Endpoint: `GET /api/v1/courses/:course_id/quizzes/:quiz_id/submissions/:id/time`
   - Get remaining time for active attempt
   - Check end time
   - Monitor time left

3. **Submit Quiz Answers**
   - Can submit answers to questions programmatically
   - Respects time limits

### ‚ùå What Students CANNOT Do:
1. **Access Full Quiz Object**
   - Cannot fetch `/api/v1/courses/:course_id/quizzes/:quiz_id`
   - Returns "not authorized" error for students
   - Only instructors can access complete quiz metadata

2. **See Quiz Before Taking It**
   - Cannot preview questions without starting an attempt
   - Cannot see question pools or question banks
   - Cannot access unpublished quizzes

3. **Access Restricted Information**
   - Cannot see instructor notes
   - Cannot see complete question pools
   - Cannot see correct answers (unless quiz settings allow)
   - Cannot see other students' submissions

---

## üìÅ File Upload Capabilities

### ‚úÖ YES - Students CAN Upload Files via API!

Canvas API fully supports file uploads for assignment submissions:

**Process:**
1. **Request Upload URL**
   ```
   POST /api/v1/courses/:course_id/assignments/:assignment_id/submissions/:user_id/files
   ```
   
2. **Upload File to S3**
   - Canvas returns a pre-signed S3 URL
   - Upload file to that URL
   
3. **Submit Assignment**
   ```
   POST /api/v1/courses/:course_id/assignments/:assignment_id/submissions
   ```
   - Include the file IDs in submission

**Supported for:**
- Regular assignments with file upload submission type
- Multiple files can be uploaded
- Various file types (PDF, DOCX, images, etc.)

---

## üö´ Features Limited by Quiz Restrictions

### 1. **Pre-Quiz Analysis**
Cannot implement:
- Quiz difficulty analyzer (before taking)
- Question preview
- Time estimation before starting
- Question type breakdown

### 2. **Study Tools**
Cannot create:
- Quiz question bank browser
- Practice mode with all questions
- Question difficulty ratings
- Comprehensive quiz study guide

### 3. **AI Features Affected**
**Limited:**
- Cannot pre-analyze quiz for AI help
- Cannot generate study guide from quiz questions before taking
- Cannot estimate time needed before starting

**Still Possible:**
- AI help DURING active quiz attempt
- Question-by-question assistance (during attempt)
- Time management suggestions (during attempt)
- Answer verification (if questions are accessible)

### 4. **Progress Tracking**
Cannot access:
- Detailed quiz statistics before taking
- Question-level analytics (until after completion)
- Historical question bank access

---

## ‚úÖ What DOES Work for Our App

### For Quizzes:
1. **List Available Quizzes**
   - `GET /api/v1/courses/:course_id/quizzes`
   - See quiz names, due dates, time limits, attempts
   - Show upcoming quizzes

2. **During Quiz Taking:**
   - Access current questions
   - Submit answers
   - Check remaining time
   - Get AI help with current question

3. **After Completion:**
   - View results (if settings allow)
   - See score and feedback
   - Review submissions

### For Assignments:
1. **Full File Upload Support**
   - Upload PDFs generated by AI
   - Upload documents
   - Upload images
   - Multiple files per submission

2. **Text Submissions**
   - Submit formatted text
   - Submit HTML content
   - Submit with embedded images

3. **URL Submissions**
   - Submit links
   - External tool submissions

---

## üí° Implementation Strategy for Our App

### Quiz Features We CAN Implement:
‚úÖ List all quizzes with metadata (time limit, due date, attempts)
‚úÖ Show if quiz is timed
‚úÖ Display time limit before starting
‚úÖ Provide AI help DURING quiz (question by question)
‚úÖ Timer display during quiz
‚úÖ Time management suggestions
‚úÖ Answer verification during attempt
‚úÖ Submit quiz programmatically
‚úÖ View results after completion

### Quiz Features We CANNOT Implement:
‚ùå Preview all questions before starting
‚ùå AI analysis of entire quiz beforehand
‚ùå Complete quiz in background without student interaction
‚ùå Access question banks for study
‚ùå See questions outside active attempt window

### File Upload Features We CAN Implement:
‚úÖ AI generates document (PDF, DOCX, etc.)
‚úÖ Upload to Canvas via API
‚úÖ Submit as assignment
‚úÖ Multiple file uploads
‚úÖ LaTeX ‚Üí PDF conversion ‚Üí Upload
‚úÖ Context files upload for AI help

---

## üéØ Recommendation for App

**Implement:**
1. Quiz list with time limit indicators
2. AI help during active quiz attempts
3. Full file upload for assignments
4. AI-generated document submission
5. LaTeX to PDF conversion with upload

**Cannot Implement (Due to API Restrictions):**
1. Complete quiz automation (must be taken in real-time)
2. Pre-quiz question analysis
3. Background quiz completion
4. Question bank access

**This is actually GOOD for academic integrity!**
- Students still need to actively participate in quizzes
- AI helps during learning, not cheating
- File uploads enable legitimate AI assistance for papers/assignments
